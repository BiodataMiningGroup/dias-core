<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>JSDoc: Source: core/api/factories/Annotation.js</title>

    <script src="scripts/prettify/prettify.js"> </script>
    <script src="scripts/prettify/lang-css.js"> </script>
    <!--[if lt IE 9]>
      <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    <link type="text/css" rel="stylesheet" href="styles/prettify-tomorrow.css">
    <link type="text/css" rel="stylesheet" href="styles/jsdoc-default.css">
</head>

<body>

<div id="main">

    <h1 class="page-title">Source: core/api/factories/Annotation.js</h1>

    


    
    <section>
        <article>
            <pre class="prettyprint source linenums"><code>/**
 * @ngdoc factory
 * @name Annotation
 * @memberOf dias.api
 * @description Provides the resource for annotations.
 * @requires $resource
 * @returns {Object} A new [ngResource](https://docs.angularjs.org/api/ngResource/service/$resource) object
 * @example
// retrieving the shape ID of an annotation
var annotation = Annotation.get({id: 123}, function () {
   console.log(annotation.shape_id);
});

// saving an annotation (updating the annotation points)
var annotation = Annotation.get({id: 1}, function () {
   annotation.points = [{x: 10, y: 10}];
   annotation.$save();
});
// or directly
Annotation.save({
   id: 1, points: [{x: 10, y: 10}]
});

// deleting an annotation
var annotation = Annotation.get({id: 123}, function () {
   annotation.$delete();
});
// or directly
Annotation.delete({id: 123});

// get all annotations of an image
// note, that the `id` is now the image ID and not the annotation ID for the
// query!
var annotations = Annotation.query({id: 1}, function () {
   console.log(annotations); // [{id: 1, shape_id: 1, ...}, ...]
});

// add a new annotation to an image
// note, that the `id` is now the image ID and not the annotation ID for the
// query!
var annotation = Annotation.add({
   id: 1,
   shape_id: 1,
   label_id: 1,
   confidence: 0.5
   points: [
      { x: 10, y: 20 }
   ]
});
 *
 */
angular.module('dias.api').factory('Annotation', function ($resource, URL) {
	"use strict";

	return $resource(URL + '/api/v1/annotations/:id',
		{ id: '@id'	},
		{
			save: {
				method: 'PUT'
			},
			query: {
				method: 'GET',
                url: URL + '/api/v1/images/:id/annotations',
				isArray: true
			},
			add: {
				method: 'POST',
				url: URL + '/api/v1/images/:id/annotations',
			}
		});
});
</code></pre>
        </article>
    </section>




</div>

<nav>
    <h2><a href="index.html">Index</a></h2><h3>directive</h3><ul><li><a href="dias.admin.adminLabelCategoryItem.html">adminLabelCategoryItem</a></li><li><a href="dias.ui.users.userChooser.html">userChooser</a></li></ul><h3>controller</h3><ul><li><a href="dias.admin.AdminLabelsController.html">AdminLabelsController</a></li><li><a href="dias.ui.messages.MessagesController.html">MessagesController</a></li></ul><h3>factory</h3><ul><li><a href="dias.api.Annotation.html">Annotation</a></li><li><a href="dias.api.AnnotationLabel.html">AnnotationLabel</a></li><li><a href="dias.api.Attribute.html">Attribute</a></li><li><a href="dias.api.Image.html">Image</a></li><li><a href="dias.api.Label.html">Label</a></li><li><a href="dias.api.MediaType.html">MediaType</a></li><li><a href="dias.api.OwnUser.html">OwnUser</a></li><li><a href="dias.api.Project.html">Project</a></li><li><a href="dias.api.ProjectLabel.html">ProjectLabel</a></li><li><a href="dias.api.ProjectTransect.html">ProjectTransect</a></li><li><a href="dias.api.ProjectUser.html">ProjectUser</a></li><li><a href="dias.api.Role.html">Role</a></li><li><a href="dias.api.Shape.html">Shape</a></li><li><a href="dias.api.Transect.html">Transect</a></li><li><a href="dias.api.TransectImage.html">TransectImage</a></li><li><a href="dias.api.User.html">User</a></li><li><a href="dias.ui.utils.filterExclude.html">filterExclude</a></li><li><a href="dias.ui.utils.filterSubset.html">filterSubset</a></li></ul><h3>service</h3><ul><li><a href="dias.api.roles.html">roles</a></li><li><a href="dias.api.shapes.html">shapes</a></li><li><a href="dias.ui.messages.msg.html">msg</a></li></ul><h3>constant</h3><ul><li><a href="dias.api.URL.html">URL</a></li><li><a href="dias.ui.messages.MAX_MSG.html">MAX_MSG</a></li></ul><h3>Namespaces</h3><ul><li><a href="dias.admin.html">dias.admin</a></li><li><a href="dias.api.html">dias.api</a></li><li><a href="dias.ui.html">dias.ui</a></li><li><a href="dias.ui.messages.html">dias.ui.messages</a></li><li><a href="dias.ui.users.html">dias.ui.users</a></li><li><a href="dias.ui.utils.html">dias.ui.utils</a></li></ul>
</nav>

<br clear="both">

<footer>
    Documentation generated by <a href="https://github.com/jsdoc3/jsdoc">JSDoc 3.3.3</a> 
    using <a href="https://github.com/allenhwkim/angular-jsdoc">Angular-JSDoc template </a> 
</footer>

<script> prettyPrint(); </script>
<script src="scripts/linenumber.js"> </script>
<script>
  // scroll to the current document navigation
  var href=window.location.href.match(/\/([^\/]+$)/)[1];
  if (currentNav = document.querySelector("nav a[href='"+href+"']"))
    currentNav.scrollIntoView(true);
  // scroll to the top of the document
  if (window.location.hash == "")
    document.querySelector("body").scrollIntoView(true);
  // adjust the width of main section by navigation width
  // var navWidth = document.querySelector('nav').getBoundingClientRect().width;
  // var mainWidth = document.querySelector('#main').getBoundingClientRect().width;
  // document.querySelector('#main').style.width = (mainWidth - navWidth)+'px';
</script>
</body>
</html>
