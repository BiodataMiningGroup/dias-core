angular.module("biigle.projects").controller("ProjectTransectController",["$scope","$element","$uibModal","ProjectTransect","msg",function(e,t,n,o,r){"use strict";var c=function(){var e=n.open({templateUrl:"confirmDeleteTransectModal.html",size:"sm"});return e},i=function(){e.removeTransect(e.$index)},s=function(t){400===t.status?c().result.then(function(t){"force"==t?e.remove(!0):e.cancelRemove()}):r.responseError(t)};e.startRemove=function(){e.removing=!0},e.cancelRemove=function(){e.removing=!1},e.remove=function(t){var n;n=t?{project_id:e.projectId,force:!0}:{project_id:e.projectId},o.detach(n,{id:e.transect.id},i,s)},e.$watch("editing",function(t){t||e.cancelRemove()})}]),angular.module("biigle.projects").controller("ProjectTransectsController",["$scope","ProjectTransect",function(e,t){"use strict";e.transects=t.query({project_id:e.projectId}),e.edit=function(){e.editing=!e.editing},e.removeTransect=function(t){e.transects.splice(t,1)},e.$watchCollection("transects",function(t){t&&0===t.length&&(e.editing=!1)})}]);
