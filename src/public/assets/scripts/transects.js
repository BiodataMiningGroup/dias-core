biigle.transects={},biigle.transects.components={},biigle.transects.components.thumbnail={template:'<figure class="transect-thumbnail" v-bind:class="{loading: loading}" v-on:mouseover="fetchUuids" v-on:mousemove="updateIndex($event)"><slot></slot><div class="transect-thumbnail__images" v-if="initialized"><img v-on:error="failed[i] = true" v-bind:class="{hidden: thumbHidden(i)}" v-bind:src="thumbUri(uuid)" v-for="(uuid, i) in uuids"></div><slot name="caption"></slot><span class="transect-thumbnail__progress" v-bind:style="{width: progress}"></span></figure>',props:["tid","uri","format"],data:function(){return{uuids:[],initialized:!1,loading:!1,index:0,failed:[]}},computed:{progress:function(){return this.initialized?100*this.index/(this.uuids.length-1)+"%":this.loading?"100%":"0%"}},methods:{fetchUuids:function(){if(!this.initialized&&!this.loading){var i=this;i.loading=!0,biigle.api.transectSample.get({id:this.tid}).then(function(t){t.ok&&(i.uuids=t.data,i.initialized=!0)}).finally(function(){i.loading=!1})}},thumbUri:function(i){return this.uri+"/"+i+"."+this.format},thumbHidden:function(i){return this.index!==i||this.failed[i]},updateIndex:function(i){var t=this.$el.getBoundingClientRect();this.index=Math.floor(this.uuids.length*(i.clientX-t.left)/t.width)}}};